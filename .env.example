# .env.example - Environment Variables Template
# Copy this file to .env and fill in your values
# .env should have chmod 600 permissions and never be committed to git

# ============================================================
# Core Configuration
# ============================================================

# Application name and version
APP_NAME=jarvis
APP_VERSION=0.1.0

# Debug mode (set to false in production)
DEBUG=false

# Logging level: DEBUG, INFO, WARN, ERROR
LOG_LEVEL=INFO

# ============================================================
# Telegram Configuration
# ============================================================

# Get from @BotFather on Telegram
TELEGRAM_BOT_TOKEN=your_bot_token_here

# Random 32+ alphanumeric characters for webhook validation
# Generate with: openssl rand -hex 16
TELEGRAM_WEBHOOK_SECRET=your_webhook_secret_here

# Your Telegram user ID (only this user can use the bot)
# Get from: https://api.telegram.org/bot<token>/getMe
TELEGRAM_USER_ID=your_telegram_user_id

# Telegram rate limit (messages per second, max 30)
TELEGRAM_RATE_LIMIT=25

# ============================================================
# LLM Configuration
# ============================================================

# LLM provider: gemini, openrouter, etc.
LLM_PROVIDER=gemini

# Gemini API key (from https://aistudio.google.com/app/apikey)
GEMINI_API_KEY=your_gemini_api_key_here

# Model names (check Gemini docs for current versions)
GEMINI_MODEL_FLASH=gemini-2.5-flash
GEMINI_MODEL_PRO=gemini-2.5-pro

# Alternative: OpenRouter (if using LLM_PROVIDER=openrouter)
# OPENROUTER_API_KEY=your_openrouter_api_key_here
# OPENROUTER_MODEL_FLASH=openai/gpt-4o-mini
# OPENROUTER_MODEL_PRO=openai/gpt-4o

# ============================================================
# HTTP Client Configuration
# ============================================================

# HTTP request timeout in seconds
HTTP_TIMEOUT=30

# Maximum number of retries for failed HTTP requests
HTTP_MAX_RETRIES=5

# Retry backoff factor (multiplied by retry attempt number)
HTTP_RETRY_BACKOFF=1.0

# ============================================================
# File Handling Configuration
# ============================================================

# Maximum file size for attachments (in MB)
MAX_FILE_SIZE_MB=50

# Maximum time to process a file (in seconds)
FILE_PROCESSING_TIMEOUT_SEC=300

# Temporary directory for uploaded files
TEMP_DIR=/tmp/jarvis_uploads

# ============================================================
# Job Queue Configuration
# ============================================================

# Maximum number of retries for failed jobs
JOB_MAX_RETRIES=3

# Maximum time a job can run before timeout (in seconds)
JOB_TIMEOUT_SEC=1800

# ============================================================
# Cost Management Configuration
# ============================================================

# Monthly budget in USD (for monitoring and alerts only, not enforcement)
COST_BUDGET_USD=20.00

# Alert when budget usage exceeds this percentage (0.0 to 1.0)
COST_ALERT_THRESHOLD=0.75

# ============================================================
# Backup Configuration (Google Drive API)
# ============================================================

# Enable automated backups to Google Drive
GOOGLE_DRIVE_ENABLED=true

# Backup schedule: daily, weekly, manual
GOOGLE_DRIVE_BACKUP_SCHEDULE=daily

# Number of days to keep backups
GOOGLE_DRIVE_RETENTION_DAYS=30

# Google Drive OAuth credentials (obtained from OAuth flow)
# See docs/ops.md for setup instructions
GOOGLE_DRIVE_CLIENT_ID=your_client_id_here
GOOGLE_DRIVE_CLIENT_SECRET=your_client_secret_here
GOOGLE_DRIVE_REFRESH_TOKEN=your_refresh_token_here

# Google Drive folder ID (optional, will use root if not specified)
GOOGLE_DRIVE_FOLDER_ID=

# ============================================================
# Monitoring & Observability Configuration
# ============================================================

# Enable Prometheus metrics at /metrics endpoint
METRICS_ENABLED=true

# Enable health check at /health endpoint
HEALTH_CHECK_ENABLED=true

# Enable distributed tracing (future: OpenTelemetry)
TRACING_ENABLED=false

# ============================================================
# Database Configuration
# ============================================================

# SQLite database URL (SQLite + aiosqlite)
DATABASE_URL=sqlite+aiosqlite:///jarvis.db

# Database connection pool size
DATABASE_POOL_SIZE=10

# ============================================================
# Security Configuration
# ============================================================

# Secret key for signing tokens (if needed in future)
# Generate with: openssl rand -hex 32
SECRET_KEY=your_secret_key_here

# CORS allowed origins (comma-separated)
CORS_ORIGINS=https://t.me

# ============================================================
# Development Configuration
# ============================================================

# Development server host (use 0.0.0.0 for Docker)
HOST=0.0.0.0

# Development server port
PORT=8000

# Workers count (0 = auto, typically CPU count)
WORKERS=1

# Reload on file changes (development only)
RELOAD=false

# ============================================================
# Feature Flags (for testing new features)
# ============================================================

# Enable experimental features (false in production)
FEATURE_EXPERIMENTAL=false

# Enable memory archival (future feature)
FEATURE_MEMORY_ARCHIVAL=false

# Enable cost tracking UI (future feature)
FEATURE_COST_UI=false

# ============================================================
# Cloudflare Configuration (managed by cloudflared)
# ============================================================

# Cloudflare tunnel credentials are stored in ~/.cloudflared/
# Not managed via environment variables
# See Cloudflare Tunnel setup documentation

# ============================================================
# NOTES
# ============================================================

1. Never commit .env to git (it's in .gitignore)
2. Set permissions: chmod 600 .env
3. Rotate secrets periodically
4. Use different values for development/staging/production
5. Keep backups of .env in secure location (e.g., password manager)
6. For Google Drive OAuth setup, see docs/ops.md or PRDv2.md Section 10
